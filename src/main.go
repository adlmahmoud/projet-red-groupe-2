package main

import (
	"bufio"
	"fmt"
	"math/rand"
	"os"
	"os/exec"
	"runtime"
	"time"
)

func main() {
	player := CreateCharacter()
	Logo := `@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%@%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#***#+====+***#%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#%%%+*+#%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%##-+%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%+*%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%==%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%=+#%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%##=-%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#*++*-=*+*#*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%####%%%%%-*%%%%%%*=%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%###@@@%%@%**%@%%@@@%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@##%@@@@@@@@%#+%%@@@@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#%@@@@###%%%**%%##%%%@@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##%%%*#%@@@%@#+%@@%@%##%%%@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*##=*####%#+***%%#+++%%##%@#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#+=+#%%@@@@%%*===*%%@@@@@%*++*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##=+#@@@@@@@%%%*=%#%@@@@@@@@#*+-#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##%*+#@@@@@@@%%@@%+%@@%@@@@@%%%#***#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##%@#%#%@@%%%%#%@@#*%@@%####%@@@#%%%##%@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##**#@*@%%@@@@*+%@@@*+%%@@*+#@%@@%##%@@#%*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@%++*#@@%@%%#@%@@%+#%@#+%%@@#%%%@@%%%%@%%%%+*%%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@%#+#%@@@@%@@%##%%%%+*@%+%%%#%@%%%%@@%#%@@@@%+#@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@#*#%@%%%#%@@@%*+#%%+*++#*%%%#+*%@@##%@@@@@%*%@%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#%%%@@@#@@%@@%%%%#*==++%%%%%@@@@@%@@@@@%**#@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%*#@@@@@%#%%@@%*%@@%*#%%%%%#%@@@%%@@@@@%#+%%@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##@@@%%%%##%@@%%%%@*+@@@%*#%@@%@@@@@@%#*#%%%@@@%@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%@@%%%#=#%%@@@@%%%@@%*#%###%##%%%%@@@@@@@%%##%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@@%##%%@@@@%%%%%%%%####%#@@@@@%%@%%%%#*#%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@%%%*%%%%@%%%@@@%%*=+##%@%%%%%%%%%**#%%%@%#@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@%%#*++##%%%#%%%**%*%%#%####*+*#%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@%%%%##*++++=+=+**+====+++##%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%#%#*%%#%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@%@@%#%=%%%%%%%%@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%+@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@%%+==*%@@%#==#%@#++#@@@@#*+#@@@%#*##**#@@#*==#%@@@%#=*%@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%++%@@@%*@@@@@#=++@@@@@=%@@*+#@@@@@#*#@@*+%@@@@@#*@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@+=#@#*@@@@@@*%#==%@@%+@@#+*@@@@@@@++%@@*+%@@@%*@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@*==#@@@@@@@*%@@+++@@+@%=+*@@@@@@@*+#@@@**%@%*@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+*@@@@@@@@*%@@@%+=%+@@*+*@@@@@@@*+#@@@@+*@*%@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=+@@@@@@@@*%@@@@@*++@@@**%@@@@@#+*@@@@@%++%@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@*++%@@@@@%#+*%@@@@@@*@@@@@#+#%#+#@@@@@@@@#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@#*@@@@%*@@@@@*+*@@#++%@@@%+*@@@*+%@@%+*@@%**%%#*+%@@@@%*#@@#+#@@@++*@@@@@@***@@@@@@@@@@@
@@@@@@@@@@@@#+@@%*%@@@@@@#+#@@@**+#@@@@#@%+#@@@@@@#@@@**@@@@@**%@#+@@@@@@**%@**+#@@@@##+#@@@@@@@@@@@
@@@@@@@@@@@@#*%*%@@@@@@@@#+#@@@*@%++%@@#@=+%@@@@@@@@@@+*@@@@@@*#@*#@@@@@@@+#@*@#+%@@#%%*#@@@@@@@@@@@
@@@@@@@@@@@@#*@%*#@@@@@@@*+#@@@*@@@*+%@#@++%@@@%#*+%@@**@@@@@@*%@*#@@@@@@@*#@#@@#*%%%@%**@@@@@@@@@@@
@@@@@@@@@@@@%*@@@#*%@@@@@#+#@@@#@@@@%**#@%**@@@@@**@@@*#@@@@@##@@%*#@@@@@##@@#@@@#*#@@@**@@@@@@@@@@@
@@@@@@@@@@@@#*%@@@%*#%@@@**#@@%*%@@@@@*#@@@#*#%%%##@@%**%@%#%@@@@@%#*%%%##@@%*%@@@*@@@%#*%@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@`
	fmt.Println(Logo)
	rand.New(rand.NewSource(time.Now().UnixNano()))

	ClearScreen()

	fmt.Println("Bienvenue dans Ynov Kingdom!")
	fmt.Println("Histoire: Tout commença il y a fort longtemps, dans un royaume d'une contrée éloignée...")
	fmt.Println("Appuyez sur Entrée pour commencer...")
	fmt.Scanln()
	PlayMusic("Dark Souls Theme")

	ClearScreen()
	fmt.Println("Des années plus tard...")
	fmt.Println("Après plusieurs mois de marche, vous arrivez enfin sur les terres du royaume d'Ynov.")
	fmt.Println("Vous contemplez ses plaines fleuries. En poursuivant votre route, un brigand vous attaque.")
	fmt.Println("Appuyez sur Entrée pour continuer...")
	fmt.Scanln()

	ClearScreen()
	brigand := CreateMonster("Brigand", 60, 10, "Plaquage")
	Combat(player, brigand, "Plaine en fleur", 10, 2)

	ClearScreen()
	fmt.Println("En continuant votre route, vous tombez sur un coffre.")
	fmt.Println("Que faites-vous?")
	fmt.Println("1. L'ouvrir pour voir ce qu'il contient")
	fmt.Println("0. Passer votre chemin")

	scanner := bufio.NewScanner(os.Stdin)
	for {
		fmt.Print("Votre choix: ")
		scanner.Scan()
		choice := scanner.Text()

		if choice == "1" {
			OpenChest(player)
			break
		} else if choice == "0" {
			fmt.Println("Vous décidez de passer votre chemin.")
			break
		} else {
			fmt.Println("Choix invalide. Veuillez choisir 1 ou 0.")
		}
	}

	ClearScreen()
	fmt.Println("Vous continuez d'avancer pour atteindre les portes du royaume, mais soudain un homme surgit de derrière des arbres et vous attaque.")
	fmt.Println("Appuyez sur Entrée pour continuer...")
	fmt.Scanln()

	ClearScreen()
	voleur := CreateMonster("Voleur", 60, 20, "Lancer de couteau")
	Combat(player, voleur, "Plaine en fleur", 10, 2)

	ClearScreen()
	MeetMerchant(player)

	GameMenu(player)
}

func ClearScreen() {
	if runtime.GOOS == "windows" {
		cmd := exec.Command("cmd", "/c", "cls")
		cmd.Stdout = os.Stdout
		cmd.Run()
	} else {
		cmd := exec.Command("clear")
		cmd.Stdout = os.Stdout
		cmd.Run()
	}
}

func PlayMusic(songName string) {
	fmt.Printf("🎵 Lecture de la musique: %s...\n", songName)
}

func GameMenu(player *Character) {
	scanner := bufio.NewScanner(os.Stdin)

	for {
		fmt.Println("\n=== MENU PRINCIPAL ===")
		fmt.Println("1. Afficher les informations du personnage")
		fmt.Println("2. Accéder à l'inventaire")
		fmt.Println("3. Visiter le marchand")
		fmt.Println("4. Forgeron")
		fmt.Println("5. Combat d'entraînement")
		fmt.Println("6. Qui sont-ils?")
		fmt.Println("0. Quitter")

		fmt.Print("Votre choix: ")
		scanner.Scan()
		choice := scanner.Text()

		switch choice {
		case "1":
			player.DisplayInfo()
		case "2":
			AccessInventory(player)
		case "3":
			VisitShop(player)
		case "4":
			VisitBlacksmith(player)
		case "5":
			StartTrainingFight(player)
		case "6":
			WhoAreThey()
		case "0":
			fmt.Println("Merci d'avoir joué à Ynov Kingdom!")
			return
		default:
			fmt.Println("Choix invalide. Veuillez choisir une option valide.")
		}
	}
}

func WhoAreThey() {
	fmt.Println("\n=== QUI SONT-ILS? ===")
	fmt.Println("Les artistes cachés dans le jeu sont:")
	fmt.Println("1. Morgann - Ancien nom de Chavrot")
	fmt.Println("2. Lunara - Ancienne prêtresse devenue Moonlight")
	fmt.Println("3. Satorin - Ancien nom d'Ainzolgone")
	fmt.Println("4. Les trois consciences de Bahamut: Furor, Memoria et Silens")
	fmt.Println("5. Negal - Champion d'Achlys")
	fmt.Println("6. Achlys - La reine d'Ynov")
	fmt.Println("Appuyez sur Entrée pour retourner...")
	fmt.Scanln()
}
